(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{148:function(e,t,n){},178:function(e,t,n){e.exports=n(326)},228:function(e,t){},307:function(e,t,n){},326:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(22),o=n.n(c),l=n(174),u=n(29),i=n(30),s=n(32),d=n(31),p=n(33),m=function(e,t){return t.map(function(t){return e[t]})},f=n(329),h=(n(81),n(148),function(e){function t(){return Object(u.a)(this,t),Object(s.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.products,n=e.addToCart,a=e.select,c=(0===a.productSize.length?t:a.productSize).map(function(e,t){return r.a.createElement("li",{key:t},r.a.createElement("div",{className:"pname"},r.a.createElement("img",{src:"./static/products/".concat(e.sku,"_1.jpg"),alt:""}),r.a.createElement("div",null,e.title),r.a.createElement("div",null,"price:$",e.price),r.a.createElement("div",null,"installments:",e.installments,"*",Math.round(e.price/e.installments*100)/100,"$")),r.a.createElement("div",null,r.a.createElement(f.a,{type:"primary",onClick:function(){return n(e.id)},disabled:!e.installments,style:{color:"#000000",backgroundColor:"#e8e8e8",borderColor:"#f5f5f5"}},r.a.createElement("p",{style:{margin:"auto",lineHeight:"0px"}},"\u6dfb\u52a0\u8d2d\u7269\u8f66"))))});return r.a.createElement("div",null,r.a.createElement("ul",{className:"item"},c))}}]),t}(r.a.Component)),y=Object(c.connect)(function(e){var t=e.products,n=e.selected;return{products:m(t.byId,t.result),select:n}},function(e){return{addToCart:function(t){return e({type:"cart/add",payload:{id:t}})}}})(h),b=n(328),g=function(e){function t(){return Object(u.a)(this,t),Object(s.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.addToSize;console.log(this.props);for(var t=b.a.Option,n=[],a=["XS","S","M","ML","L","XL","XXL"],c=0;c<7;c++)n.push(r.a.createElement(t,{key:a[c]},a[c]));return r.a.createElement("div",{style:{marginTop:"100px"}},r.a.createElement("span",{style:{fontSize:"30px"}},"Size:"),r.a.createElement(b.a,{mode:"tags",size:"large",placeholder:"Please select",defaultValue:a,onChange:function(t){e(t)},style:{width:"100%",lineHeight:"100px"}},n))}}]),t}(r.a.Component),v=Object(c.connect)(null,function(e){return{addToSize:function(t){return e({type:"selected/add",payload:{size:t}})}}})(g),E=n(26),O=n(11),j=n(332),k=n(330),w=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(s.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={visible:!1,placement:"right"},n.showDrawer=function(){n.setState({visible:!0})},n.onClose=function(){n.setState({visible:!1})},n}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.products,n=e.subtotal,a=e.onCheckout,c=e.loading,o=e.checking,l=e.num,u=e.deleteProducts,i=t.map(function(e,t){return r.a.createElement("li",{key:t},e.title," ",e.price," x ",e.quantity,r.a.createElement(f.a,{onClick:function(){return u(e.id,e.quantity)},style:{width:"20px",height:"20px",padding:"0",float:"right"}},r.a.createElement(O.a,{type:"close",style:{fontSize:"20px"}})))});return r.a.createElement("div",{style:{display:"flex",width:"100%",paddingTop:"20px"}},r.a.createElement(f.a,{style:{height:"64px",display:"flex",marginLeft:"auto",border:"none"},onClick:this.showDrawer},r.a.createElement("span",{style:{marginRight:24}},r.a.createElement(j.a,{count:l},r.a.createElement(O.a,{type:"shopping-cart",style:{fontSize:"50px"}})))),r.a.createElement(k.a,{title:"Basic Drawer",placement:this.state.placement,closable:!1,onClose:this.onClose,visible:this.state.visible},r.a.createElement("ul",null,i),r.a.createElement("div",null,"Total: ",n),r.a.createElement("div",null,o&&r.a.createElement("div",{style:{color:"red"}},"Checking ..."),r.a.createElement(f.a,{onClick:a,disabled:n<=0||c},r.a.createElement("p",{style:{margin:"auto",lineHeight:"0px"}},"Checkout")))))}}]),t}(r.a.Component),x=Object(c.connect)(function(e){var t=e.cart,n=e.products,a=e.loading;return{products:t.added.map(function(e){return Object(E.a)({},n.byId[e],{quantity:t.quantities[e]})}),subtotal:t.added.reduce(function(e,a){return n.byId[a].price*t.quantities[a]+e},0).toFixed(2),loading:a.models.cart,checking:a.effects["cart/checkout"],num:t.num}},function(e){return{onCheckout:function(){return e({type:"cart/checkout"})},deleteProducts:function(t,n){return e({type:"cart/delete",payload:{log:t,num:n}})}}})(w),C=(n(307),n(331)),z=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(s.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).Highest=function(){},n}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=b.a.Option,t=this.props,n=t.products,a=t.select;t.OnChange,r.a.createElement(e,{key:"default"},"default sort"),r.a.createElement(e,{key:"Highest"},"Highest to lowest"),r.a.createElement(e,{key:"lowest"},"lowest to Highest");return r.a.createElement("div",null,r.a.createElement("h1",null,0===a.productSize.length?n.length:a.productSize.length," Product(s)found"),r.a.createElement("div",{id:"components-dropdown-demo-dropdown-button"}))}}]),t}(r.a.Component),S=Object(c.connect)(function(e){var t=e.products,n=e.selected;return{products:m(t.byId,t.result),select:n}},function(e){return{OnChange:function(t,n){return e({type:"selected/add",payload:{change:t,size:n}})}}})(z),q=function(e){function t(){return Object(u.a)(this,t),Object(s.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){(0,this.props.dispatch)({type:"products/query"})}},{key:"render",value:function(){var e=C.a.Header,t=C.a.Footer,n=C.a.Sider,a=C.a.Content;return r.a.createElement("div",null,r.a.createElement(C.a,null,r.a.createElement(n,null," ",r.a.createElement(v,null)," "),r.a.createElement(C.a,null,r.a.createElement(e,null,r.a.createElement(x,null)),r.a.createElement(a,null,r.a.createElement(S,null),r.a.createElement(y,null)),r.a.createElement(t,null))))}}]),t}(r.a.Component),T=Object(c.connect)()(q),H=n(21),L=n.n(H),X=n(120),I=n(172),P=n.n(I),M=function(){return P.a.get("products.json")},A=function(e){return new Promise(function(t,n){return setTimeout(function(){return t(e)},2e3)})},D=new X.b.Entity("products"),N={namespace:"products",state:{result:[],byId:{}},effects:{query:L.a.mark(function e(t,n){var a,r,c;return L.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.call,r=n.put,e.next=3,a(M);case 3:return c=e.sent,e.next=6,r({type:"setProducts",payload:Object(X.a)(c.data,[D])});case 6:case"end":return e.stop()}},e)})},reducers:{setProducts:function(e,t){var n=t.payload;return Object(E.a)({},e,{byId:n.entities.products,result:n.result})}}},F=n(71),J=n(122),$={added:[],quantities:{},addedSelect:[],num:0},B={namespace:"cart",state:$,effects:{add:L.a.mark(function e(t,n){var a,r,c,o,l,u,i;return L.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload.id,r=n.put,c=n.select,e.next=4,c(function(e){return e.products.byId[a]});case 4:return o=e.sent,console.log("product",o),e.next=8,c();case 8:return l=e.sent,u=l.cart,i=u.num+1,e.next=13,r({type:"addToCart",payload:{id:a,num:i}});case 13:case"end":return e.stop()}},e)}),checkout:L.a.mark(function e(t,n){var a,r,c,o,l,u;return L.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.payload,a=n.call,r=n.put,c=n.select,e.next=4,c();case 4:return o=e.sent,l=o.cart,console.log("checkout cart",l),e.next=9,a(A,l);case 9:return u=e.sent,e.next=12,r({type:"checkoutCompleted",payload:u});case 12:case"end":return e.stop()}},e)}),delete:L.a.mark(function e(t,n){var a,r,c,o,l,u,i,s,d,p;return L.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=a.log,c=a.num,o=n.put,l=n.select,e.next=4,l();case 4:return u=e.sent,i=u.cart,s=function(e){return e!==r},d=i.num-c,p=i.added.filter(s),console.log(i.quantities),e.next=12,o({type:"deletelog",payload:{deleteAdded:p,deleteNum:d,log:r}});case 12:case"end":return e.stop()}},e)})},reducers:{addToCart:function(e,t){var n=t.payload,a=n.id,r=n.num;return Object(E.a)({},e,{added:e.added.includes(a)?Object(J.a)(e.added):[].concat(Object(J.a)(e.added),[a]),quantities:Object(E.a)({},e.quantities,Object(F.a)({},a,(e.quantities[a]||0)+1)),num:r})},checkoutCompleted:function(){return $},deletelog:function(e,t){var n=t.payload,a=n.deleteAdded,r=n.deleteNum,c=n.log;return Object(E.a)({},e,{added:a,num:r,quantities:Object(E.a)({},e.quantities,Object(F.a)({},c,0))})}}},R={namespace:"selected",state:{size:["XS","S","M","ML","L","XL","XXL"],productSize:[],change:"default"},effects:{add:L.a.mark(function e(t,n){var a,r,c,o,l,u,i,s,d,p;return L.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,r=a.size,c=a.change,o=n.put,l=n.call,e.next=4,l(M);case 4:return u=e.sent,i=function(e){for(var t=0;t<r.length;t++)for(var n=0;n<e.availableSizes.length;n++)if(r[t]===e.availableSizes[n])return e},s=u.data.filter(i),d=c,p=u.data.filter(i),console.log(s),e.next=12,o({type:"addToSize",payload:{size:r,productSize:s,changes:d,products:p}});case 12:case"end":return e.stop()}},e)})},reducers:{addToSize:function(e,t){var n=t.payload,a=n.size,r=n.productSize,c=n.changes,o=n.products;return Object(E.a)({},e,{size:a,productSize:"default"===c?o:"Highest"===c?r.sort(function(e,t){return t.price-e.price}):r.sort(function(e,t){return e.price-t.price}),change:c})}}},V=o()();V.model(N),V.model(B),V.model(R),V.use(Object(l.a)()),V.router(function(){return r.a.createElement(T,null)}),V.start("#root")}},[[178,1,2]]]);
//# sourceMappingURL=main.3651b639.chunk.js.map