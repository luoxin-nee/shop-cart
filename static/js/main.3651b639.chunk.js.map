{"version":3,"sources":["utils/utils.js","components/ProductList.js","components/Select.js","components/Cart.js","components/Nav.js","components/App.js","api/shop.js","models/products.js","models/cart.js","models/select.js","index.js"],"names":["d","byId","result","map","id","ProductList","_this$props","this","props","products","addToCart","select","list","productSize","length","item","key","react_default","a","createElement","className","src","concat","sku","alt","title","price","installments","Math","round","es_button","type","onClick","disabled","style","color","backgroundColor","borderColor","margin","lineHeight","React","Component","connect","_ref","selected","dispatch","payload","SelectSizesDemo","addToSize","console","log","Option","Select","children","childrens","i","push","marginTop","fontSize","es_select","mode","size","placeholder","defaultValue","onChange","value","width","Cart","state","visible","placement","showDrawer","_this","setState","onClose","subtotal","onCheckout","loading","checking","num","deleteProducts","nodes","quantity","height","padding","float","icon","display","paddingTop","marginLeft","border","marginRight","badge","count","drawer","closable","cart","added","Object","objectSpread2","quantities","reduce","amount","toFixed","models","effects","Nav","Highest","OnChange","change","App","Header","Layout","Footer","Sider","Content","layout","components_Cart","components_Nav","src_components_ProductList","shop","axios","get","Promise","resolve","reject","setTimeout","schema","Entity","models_products","namespace","query","regenerator_default","mark","action","call","put","res","wrap","_context","prev","next","sent","normalize","data","stop","reducers","setProducts","_ref2","entities","initialState","addedSelect","models_cart","add","product","_ref3","checkout","_ref4","_ref5","_ref6","_context2","delete","_delete","_ref7","_ref8","_ref7$payload","_ref9","checkAdult","deleteNum","deleteAdded","_context3","logs","filter","_ref10","_ref10$payload","includes","toConsumableArray","defineProperty","checkoutCompleted","deletelog","_ref11","_ref11$payload","models_select","_ref$payload","changes","s","availableSizes","_ref3$payload","sort","b","app","dva","model","use","createLoading","router","components_App","start"],"mappings":"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","file":"static/js/main.3651b639.chunk.js","sourcesContent":["\r\nexport const d = (byId, result) => result.map(id => byId[id])\r\n","import React from 'react';\r\nimport { connect } from 'dva';\r\nimport { d } from '../utils/utils';\r\nimport {  Button} from 'antd';\r\nimport 'antd/dist/antd.css';\r\nimport './ProductList.css';\r\n\r\n\r\n\r\n\r\nclass ProductList extends React.Component {\r\n \r\n render() {\r\n    const { products, addToCart, select } = this.props;\r\n    const list = (select.productSize.length === 0 ? products : select.productSize).map((item, key) => (\r\n      <li key={key}>\r\n        <div className='pname'>\r\n          <img src={`./static/products/${item.sku}_1.jpg`} alt=\"\" />\r\n          <div>{item.title}</div>\r\n          <div>price:${item.price}</div>\r\n          <div>installments:{item.installments}*{Math.round((item.price / item.installments) * 100) / 100}$</div>\r\n        </div>\r\n        <div>\r\n          <Button type=\"primary\" onClick={() => addToCart(item.id)} disabled={!item.installments} style={{ color: '#000000', backgroundColor: \"#e8e8e8\", borderColor: '#f5f5f5' }}><p style={{ margin: 'auto', lineHeight: '0px' }}>添加购物车</p></Button>\r\n        </div>\r\n      </li>\r\n    ));\r\n    \r\n\r\n    return (\r\n      <div>\r\n\r\n          \r\n        <ul className='item'>\r\n          {list}\r\n        </ul>\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nconst mapStateToProps = ({ products, selected }) => ({\r\n  products: d(products.byId, products.result),\r\n  select: selected\r\n})\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  addToCart: (id) => dispatch({\r\n    type: 'cart/add',\r\n    payload: {\r\n      id\r\n    }\r\n  }),\r\n  \r\n})\r\n\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ProductList);","\r\nimport React from 'react';\r\nimport 'antd/dist/antd.css';\r\nimport {connect} from 'dva';\r\nimport { Select } from 'antd';\r\n\r\nclass SelectSizesDemo extends React.Component {\r\n  \r\n \r\nrender() {\r\n  const {  addToSize } = this.props;\r\n  console.log(this.props);\r\n  const { Option } = Select;\r\n  const children = [];\r\n  const childrens =['XS', 'S', 'M', 'ML', 'L', 'XL', 'XXL'];\r\n  //   const handleChange=(value) =>{\r\n  // //    addToCart(`Selected: ${value}`)\r\n  //     console.log(value);\r\n  //   }\r\n  for (let i = 0; i < 7; i++) {\r\n    children.push(<Option key={childrens[i]}>{childrens[i]}</Option>);\r\n  }\r\n   \r\n    return (\r\n      <div style={{marginTop:'100px'}}>\r\n        <span style={{fontSize:'30px'}}>Size:</span>\r\n        <Select \r\n          mode=\"tags\"\r\n          size={'large'}\r\n          placeholder=\"Please select\"\r\n          defaultValue={childrens}\r\n          onChange={(value)=>{addToSize(value)}}\r\n          style={{ width: '100%' ,lineHeight:'100px'}}\r\n        >\r\n          {children}\r\n        </Select>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  addToSize:(size) =>dispatch({\r\n    type: 'selected/add',\r\n    payload: {\r\n      size:size\r\n    }\r\n    \r\n  })\r\n})\r\nexport default connect(null,mapDispatchToProps)(SelectSizesDemo);\r\n","import React from 'react';\r\nimport { connect } from 'dva';\r\nimport { Drawer, Button, Badge,Icon } from \"antd\";\r\nclass Cart extends React.Component {\r\n  state = { visible: false, placement: \"right\" };\r\n\r\n  showDrawer = () => {\r\n    this.setState({\r\n      visible: true\r\n    });\r\n  };\r\n\r\n  onClose = () => {\r\n    this.setState({\r\n      visible: false\r\n    });\r\n  };\r\n\r\n\r\n  render() {\r\n   \r\n    \r\n    const { products, subtotal, onCheckout, loading, checking,num,deleteProducts } = this.props;\r\n    const nodes = products.map((item, key) => (\r\n      <li key={key}>\r\n        {item.title} {item.price} x {item.quantity}\r\n        <Button onClick={()=>deleteProducts(item.id,item.quantity)} style={{width:'20px',height:'20px',padding:'0',float:'right'}}><Icon type=\"close\" style={{ fontSize: '20px' }}/></Button>\r\n      </li>\r\n    ));\r\n    \r\n    return (\r\n      <div style={{ display: 'flex', width: \"100%\" ,paddingTop:'20px'}}>\r\n        <Button style={{ height: '64px', display: 'flex', marginLeft: 'auto', border: \"none\" }} onClick={this.showDrawer}>\r\n          <span style={{ marginRight: 24 }} >\r\n            <Badge count={num}>\r\n            <Icon type=\"shopping-cart\" style={{ fontSize: '50px' }} />\r\n            </Badge>\r\n          </span>\r\n        </Button>\r\n        <Drawer\r\n          title=\"Basic Drawer\"\r\n          placement={this.state.placement}\r\n          closable={false}\r\n          onClose={this.onClose}\r\n          visible={this.state.visible}\r\n        >\r\n          <ul>{nodes}</ul>\r\n          <div>Total: {subtotal}</div>\r\n          <div>\r\n            {checking && <div style={{ color: 'red' }}>Checking ...</div>}\r\n            <Button onClick={onCheckout} disabled={subtotal <= 0.00 || loading} ><p style={{ margin: 'auto', lineHeight: '0px' }}>Checkout</p></Button>\r\n          </div>\r\n        </Drawer>\r\n\r\n      </div>\r\n    );\r\n  };\r\n\r\n}\r\n\r\n\r\nconst mapStateToProps = ({ cart, products, loading }) => ({\r\n  products: cart.added.map(id => ({ ...products.byId[id], quantity: cart.quantities[id] })),\r\n  subtotal: cart.added.reduce((amount, id) => products.byId[id].price * cart.quantities[id] + amount, 0).toFixed(2),\r\n  loading: loading.models['cart'],\r\n  checking: loading.effects['cart/checkout'],\r\n  num:cart.num\r\n})\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n   onCheckout: () => dispatch({\r\n    type: 'cart/checkout'\r\n  }),\r\n   deleteProducts:(log,num)=>dispatch({\r\n    type: 'cart/delete',\r\n    payload:{log,num} \r\n  })\r\n})\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Cart);\r\n","import React from 'react';\r\nimport { connect } from 'dva';\r\nimport { d } from '../utils/utils';\r\nimport { Select } from 'antd';\r\nimport 'antd/dist/antd.css';\r\nimport './ProductList.css';\r\n\r\n\r\n\r\n\r\nclass Nav extends React.Component {\r\n  Highest=()=>{\r\n\r\n  }\r\n render() {\r\n    const { Option } = Select;\r\n    const { products, select , OnChange} = this.props;\r\n   \r\n const children = [ <Option key={ \"default\"}>{ \"default sort\"}</Option>,<Option key={ \"Highest\"}>{ \"Highest to lowest\"}</Option>,<Option key={ \"lowest\"}>{ \"lowest to Highest\"}</Option>];\r\n  \r\n\r\n    return (\r\n      <div>\r\n        <h1>{(select.productSize.length === 0 ? products.length : select.productSize.length)} Product(s)found</h1>\r\n        <div id=\"components-dropdown-demo-dropdown-button\">\r\n\r\n          \r\n          {/* <Select\r\n          defaultValue=\"default sort\"\r\n          onChange={(value)=>OnChange(value,select.size)}\r\n          style={{ width: 200 }}\r\n        >\r\n          {children}\r\n        </Select> */}\r\n         \r\n        </div>\r\n        \r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nconst mapStateToProps = ({ products, selected }) => ({\r\n    products: d(products.byId, products.result),\r\n    select: selected\r\n  \r\n})\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  OnChange: (change,size) => dispatch({\r\n     type: 'selected/add',\r\n     payload: {\r\n       change,\r\n       size\r\n     }\r\n   }),\r\n  \r\n})\r\n\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Nav);","import React from 'react';\r\nimport { connect } from 'dva';\r\n//import { getAllProducts } from '../reducers/products';\r\nimport ProductList from './ProductList';\r\nimport SelectSizesDemo from './Select';\r\nimport Cart from './Cart';\r\nimport 'antd/dist/antd.css';\r\nimport './index.css';\r\nimport { Layout } from 'antd';\r\nimport Nav from './Nav'\r\n\r\nclass App extends React.Component {\r\n    componentDidMount () {\r\n        const { dispatch } = this.props;\r\n\r\n        dispatch({\r\n            type:'products/query'\r\n        });\r\n    }\r\n\r\n    render () {\r\n        const { Header, Footer, Sider, Content } = Layout;\r\n        return <div>\r\n        <Layout>\r\n      <Sider > <SelectSizesDemo/> </Sider>\r\n      <Layout>\r\n        <Header><Cart/></Header>\r\n        <Content><Nav/><ProductList/></Content>\r\n        <Footer></Footer>\r\n      </Layout>\r\n      </Layout>\r\n       \r\n        </div>\r\n    }\r\n}\r\n\r\nexport default connect()(App);\r\n","/**\r\n * Mocking client-server processing\r\n */\r\nimport axios from 'axios'\r\n\r\nexport default {\r\n  getProducts: () => axios.get('products.json'),\r\n  buyProducts: (payload) => new Promise((resolve, reject) => setTimeout(() => resolve(payload), 2000)) //只是为了模拟axios.post的效果\r\n}\r\n","import { normalize, schema } from \"normalizr\";\r\n\r\nimport shop from \"../api/shop\";\r\n\r\n// 关于normalizr库，与官方示例直接用byId, allIds去组织还别扭\r\n// 此处仅仅是为了尝试下引入这个库的效果，它的用法还有待深入\r\n// 但是不论哪一种写法，无揭示了一个问题，如果state需要相关引用，\r\n// 根据ID组织状态是一个合理的方式。\r\nconst products = new schema.Entity(\"products\");\r\n\r\nexport default {\r\n  namespace: \"products\",\r\n  state: {\r\n    result: [], \r\n    byId: {}\r\n  },\r\n  effects: {\r\n    *query(action, { call, put }) {\r\n      const res = yield call(shop.getProducts);\r\n     \r\n      yield put({\r\n        type: \"setProducts\",\r\n        payload: normalize(res.data, [products])\r\n      });\r\n      \r\n\r\n    }\r\n  },\r\n  reducers: {\r\n    setProducts: (state, { payload }) => {\r\n      return {\r\n        ...state,\r\n        byId: payload.entities.products,\r\n        result: payload.result\r\n      };\r\n    },\r\n    // decinstallments: (state, { payload: { id } }) => {\r\n    //   const selected = state.byId[id];\r\n    //   return {\r\n    //     ...state,\r\n    //     byId: {\r\n    //       ...state.byId,\r\n    //       [id]: { ...selected, installments: selected.installments - 1 }\r\n    //     }\r\n    //   };\r\n    // }\r\n  }\r\n};\r\n","import shop from \"../api/shop\";\r\n\r\nconst initialState = {\r\n    added: [],\r\n    quantities: {\r\n    },\r\n    addedSelect:[],\r\n    num:0\r\n  }\r\nexport default {\r\n  namespace: \"cart\",\r\n  state: initialState,\r\n  effects: {\r\n    *add({payload: { id }}, {  put, select }) {\r\n      const product = yield select(state => state.products.byId[id]);\r\n      console.log('product', product);\r\n      const { cart } = yield select();\r\n    \r\n     \r\n      const num=cart.num+1;\r\n        yield put({\r\n          type: 'addToCart',\r\n          payload: {\r\n            id,\r\n            num\r\n          }\r\n        })\r\n      \r\n   },\r\n    *checkout( {payload}, {call, put, select}) {\r\n      const { cart } = yield select();\r\n      console.log(\"checkout cart\", cart);\r\n      const res = yield call(shop.buyProducts, cart);\r\n      yield put({\r\n        type: \"checkoutCompleted\",\r\n        payload: res\r\n      });\r\n    },\r\n    *delete({payload: { log,num }}, {  put, select }){\r\n      const { cart } = yield select();\r\n      const checkAdult=(logs)=> {return logs!==log};\r\n      const deleteNum=cart.num-num\r\n      const deleteAdded=cart.added.filter(checkAdult);\r\n      console.log(cart.quantities);\r\n     \r\n      yield put({\r\n        type: \"deletelog\",\r\n        payload: {\r\n          deleteAdded:deleteAdded,\r\n          deleteNum:deleteNum,\r\n         log:log\r\n        }\r\n      });\r\n    }\r\n  },\r\n  reducers: {\r\n    addToCart: (state, { payload: { id,num } }) => {\r\n      return {\r\n        ...state,\r\n        added: state.added.includes(id) ? [...state.added] : [...state.added, id],\r\n        quantities: {\r\n          ...state.quantities,\r\n          [id]: (state.quantities[id] || 0) + 1\r\n        },\r\n        num:num\r\n      }\r\n    },\r\n    checkoutCompleted: () => initialState,\r\n    deletelog:(state,{payload:{deleteAdded,deleteNum,log}})=>{\r\n      return {\r\n        ...state,\r\n        added:deleteAdded,\r\n        num:deleteNum,\r\n        quantities:{\r\n          ...state.quantities,\r\n          [log]:0\r\n        }\r\n      }\r\n    }\r\n  }\r\n};\r\n\r\n","import shop from \"../api/shop\";\r\n\r\n\r\nexport default {\r\n  namespace: \"selected\",\r\n  state: {size: ['XS', 'S', 'M', 'ML', 'L', 'XL', 'XXL'],\r\n  productSize:[],\r\n  change:'default',\r\n  },\r\n  \r\n  effects: {\r\n    \r\n    *add({payload: { size ,change}}, {  put ,call }) {\r\n      const res = yield call(shop.getProducts);\r\n      //const { selected } = yield select();\r\n      \r\n      const checkAdult=(product)=> {\r\n        for(var s=0; s<size.length;s++){\r\n          for(var i=0;i<product.availableSizes.length;i++){\r\n            if (size[s]===product.availableSizes[i]){\r\n              return product;\r\n            }\r\n          }\r\n      }\r\n      };\r\n      const productSize=res.data.filter(checkAdult);\r\n      const changes=change\r\n      const products=res.data.filter(checkAdult);\r\n       console.log(productSize)\r\n      yield put({\r\n          type: 'addToSize',\r\n          payload: {\r\n            size,\r\n            productSize,\r\n            changes,\r\n            products\r\n          }\r\n        })\r\n      \r\n    },\r\n    \r\n  },\r\n  reducers: {\r\n    addToSize: (state, { payload: { size,productSize ,changes,products} }) => {\r\n      return {\r\n        ...state,\r\n        size:size,\r\n        productSize:(changes==='default'?products:(changes==='Highest'?(productSize.sort((a, b)=>{return b.price - a.price})):(productSize.sort((a, b)=>{return a.price - b.price})))),\r\n        change:changes\r\n      }\r\n    },\r\n    \r\n  }\r\n};\r\n\r\n","import React from 'react';\r\nimport dva from 'dva';\r\nimport createLoading from 'dva-loading';\r\nimport App from './components/App';\r\nimport products from './models/products';\r\nimport cart from './models/cart';\r\nimport select from './models/select';\r\n\r\nconst app = dva();\r\napp.model(products);\r\napp.model(cart);\r\napp.model(select);\r\napp.use(createLoading());\r\napp.router(() => <App />);\r\napp.start('#root');\r\n"],"sourceRoot":""}